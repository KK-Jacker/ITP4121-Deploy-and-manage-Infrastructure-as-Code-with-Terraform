"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MySQLFirewallConstruct = void 0;
const constructs_1 = require("constructs");
const provider_azurerm_1 = require("@cdktf/provider-azurerm");
class MySQLFirewallConstruct extends constructs_1.Construct {
    constructor(scope, name, props) {
        super(scope, name);
        const { resourceGroup, mysqlServer } = props;
        // create application insights
        // https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/application_insights#attributes-reference
        this.mysqlFirewallRule = new provider_azurerm_1.MysqlFirewallRule(this, "itp4121project lib MySQL Server Firewall", {
            name: process.env.PROJECT_NAME + process.env.ENV,
            resourceGroupName: resourceGroup.name,
            serverName: mysqlServer.name,
            startIpAddress: process.env.MYSQL_FIREWALL_START_IP,
            endIpAddress: process.env.MYSQL_FIREWALL_END_IP,
            dependsOn: [mysqlServer],
        });
    }
}
exports.MySQLFirewallConstruct = MySQLFirewallConstruct;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXlzcWxfZGJfZmlyZXdhbGwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJteXNxbF9kYl9maXJld2FsbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBcUM7QUFDckMsOERBQXVGO0FBT3ZGLE1BQWEsc0JBQXVCLFNBQVEsc0JBQVM7SUFHakQsWUFBWSxLQUFnQixFQUFFLElBQVksRUFBRSxLQUFrQztRQUMxRSxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRW5CLE1BQU0sRUFBQyxhQUFhLEVBQUUsV0FBVyxFQUFDLEdBQUcsS0FBSyxDQUFDO1FBRTNDLDhCQUE4QjtRQUM5Qiw0SEFBNEg7UUFDNUgsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksb0NBQWlCLENBQzFDLElBQUksRUFDSiwwQ0FBMEMsRUFDMUM7WUFDSSxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFhLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHO1lBQ2pELGlCQUFpQixFQUFFLGFBQWEsQ0FBQyxJQUFJO1lBQ3JDLFVBQVUsRUFBRSxXQUFXLENBQUMsSUFBSTtZQUM1QixjQUFjLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBd0I7WUFDcEQsWUFBWSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXNCO1lBQ2hELFNBQVMsRUFBRSxDQUFDLFdBQVcsQ0FBQztTQUMzQixDQUNKLENBQUM7SUFDTixDQUFDO0NBQ0o7QUF2QkQsd0RBdUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb25zdHJ1Y3R9IGZyb20gXCJjb25zdHJ1Y3RzXCI7XG5pbXBvcnQge015c3FsRmlyZXdhbGxSdWxlLCBNeXNxbFNlcnZlciwgUmVzb3VyY2VHcm91cCx9IGZyb20gXCJAY2RrdGYvcHJvdmlkZXItYXp1cmVybVwiO1xuXG5pbnRlcmZhY2UgTXlTUUxGaXJld2FsbENvbnN0cnVjdFByb3BzIHtcbiAgICByZXNvdXJjZUdyb3VwOiBSZXNvdXJjZUdyb3VwO1xuICAgIG15c3FsU2VydmVyOiBNeXNxbFNlcnZlcjtcbn1cblxuZXhwb3J0IGNsYXNzIE15U1FMRmlyZXdhbGxDb25zdHJ1Y3QgZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICAgIHB1YmxpYyByZWFkb25seSBteXNxbEZpcmV3YWxsUnVsZTogTXlzcWxGaXJld2FsbFJ1bGU7XG5cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBuYW1lOiBzdHJpbmcsIHByb3BzOiBNeVNRTEZpcmV3YWxsQ29uc3RydWN0UHJvcHMpIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIG5hbWUpO1xuXG4gICAgICAgIGNvbnN0IHtyZXNvdXJjZUdyb3VwLCBteXNxbFNlcnZlcn0gPSBwcm9wcztcblxuICAgICAgICAvLyBjcmVhdGUgYXBwbGljYXRpb24gaW5zaWdodHNcbiAgICAgICAgLy8gaHR0cHM6Ly9yZWdpc3RyeS50ZXJyYWZvcm0uaW8vcHJvdmlkZXJzL2hhc2hpY29ycC9henVyZXJtL2xhdGVzdC9kb2NzL3Jlc291cmNlcy9hcHBsaWNhdGlvbl9pbnNpZ2h0cyNhdHRyaWJ1dGVzLXJlZmVyZW5jZVxuICAgICAgICB0aGlzLm15c3FsRmlyZXdhbGxSdWxlID0gbmV3IE15c3FsRmlyZXdhbGxSdWxlKFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIFwiaXRwNDEyMXByb2plY3QgbGliIE15U1FMIFNlcnZlciBGaXJld2FsbFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IHByb2Nlc3MuZW52LlBST0pFQ1RfTkFNRSEgKyBwcm9jZXNzLmVudi5FTlYsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VHcm91cE5hbWU6IHJlc291cmNlR3JvdXAubmFtZSxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJOYW1lOiBteXNxbFNlcnZlci5uYW1lLFxuICAgICAgICAgICAgICAgIHN0YXJ0SXBBZGRyZXNzOiBwcm9jZXNzLmVudi5NWVNRTF9GSVJFV0FMTF9TVEFSVF9JUCEsXG4gICAgICAgICAgICAgICAgZW5kSXBBZGRyZXNzOiBwcm9jZXNzLmVudi5NWVNRTF9GSVJFV0FMTF9FTkRfSVAhLFxuICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogW215c3FsU2VydmVyXSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG59XG4iXX0=